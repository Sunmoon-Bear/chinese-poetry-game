# 诗词连珠游戏页面设计文档

## 功能概述
这是诗词连珠游戏的核心游戏页面，玩家在这里进行实际的诗词文字重组游戏。

## 目录结构 
game/
├── components/ # 游戏页专用组件
├── styles/ # 样式文件
├── assets/ # 专用资源
└── README.md # 本设计文档

### 基本游戏机制

1. **游戏布局**
- 游戏界面是一个方形网格
- 网格中随机分布着诗句的每个字
- 字符以圆形背景的形式显示
- 网格大小根据诗句字数自动计算

2. **连线规则**
- 玩家可以通过鼠标拖动来连接相邻的字
- 只能连接相邻的字（包括斜向相邻）（9宫格内的字）
- 连线时会显示实时的墨迹效果
- 连线路径会有动画效果

3. **判定机制**
- 当玩家完成一次连线后，系统会检查是否匹配诗句
- 如果匹配成功：
  * 连线会保持显示
  * 连过的字会变色标记
  * 进度条会更新
- 如果匹配失败：
  * 显示错误动画效果
  * 连线会消失
  * 可以继续尝试

4. **游戏进度**
- 界面顶部显示当前进度
- 显示已完成数量/总数量
- 有进度条直观展示完成程度

5. **辅助功能**
- 重新生成按钮：可以重新打乱字的位置
- 下一首按钮：完成当前诗后可以进入下一首
- 返回关卡按钮：可以返回选择其他诗词

### 特殊设计细节

1. **字符布局算法**
- 确保同一首诗的字符相邻放置
- 使用随机算法保证每次布局都不同
- 保证所有诗句都可以被连出来

2. **视觉反馈**
- 连线时有实时的墨迹效果
- 选中的字会高亮显示
- 已完成的诗句会保持显示
- 错误操作会有晃动动画

3. **完成效果**
- 当诗句全部连完后，会显示完整的诗词
- 提供下一首操作选项

## 布局关键点

### 1. 页面结构
- 采用简洁的上、中、下三段式布局
- 最大化游戏主区域的空间
- 固定顶部和底部，中间区域自适应

### 2. 关键尺寸
- 顶部信息栏：64px
- 底部工具栏：80px
- 游戏主区域：calc(100vh - 144px)
- 网格间距：预留足够的连线空间

### 3. 核心区域职责
- 顶部信息栏：展示诗词基本信息（标题、作者、朝代）
- 游戏主区域：文字网格，实现核心玩法
- 底部工具栏：基础功能按钮
- 成功弹窗：展示完整诗词内容

### 4. 交互要素
- 返回按钮：位于顶部左侧
- 文字网格：支持连线操作
- 功能按钮：重新排列、重新开始
- 成功弹窗：展示全诗、提供后续操作

### 5. 布局注意事项
- 保持足够的留白和间距
- 确保文字清晰可见
- 预留连线操作空间
- 弹窗不影响底层布局

# 诗词连珠游戏交互设计

## 核心交互机制

### 1. 网格与连线范围

- **难度对应关系**
  * 初级难度：
    * 4×4 网格
    * 连线范围：当前字周围3×3范围（9格）
  
  * 中级难度：
    * 5×5 网格
    * 连线范围：当前字周围4×4范围（16格）
  
  * 高级难度：
    * 6×6 网格
    * 连线范围：当前字周围5×5范围（25格）

- **字符分布**
  * 网格尺寸固定
  * 字符大小自适应网格
  * 当前可连接诗句的字符随机分布
  * 其他句子的字符作为干扰项

### 2. 连线交互

- **连线操作**
  * 按住任意字符开始连线
  * 拖动至连线范围内的其他字符
  * 松开结束当前连线
  * 简单平滑的连线效果

- **连线限制**
  * 只能在当前难度规定的范围内连线
  * 超出范围自动取消连线
  * 无预览提示，靠玩家记忆

### 3. 游戏步骤

- **回合机制**
  * 每回合只能连接一句诗
  * 回合数等于诗词句数
  * 只有当前句子可以被连接成功
  * 连接成功后进入下一回合

- **进度控制**
  * 第一回合：第一句诗可连接
  * 连接成功：解锁下一句诗
  * 最后回合：完成整首诗

### 4. 状态反馈

- **连线状态**
  * 连线中：简单的线条跟随
  * 连线成功：
    * 线条保持显示
    * 连接字符标记为完成
    * 切换下一回合
  * 连线失败：
    * 线条消失
    * 简单的错误动画

### 5. 功能控制

- **重新排列**
  * 重排当前回合字符分布
  * 保持已完成诗句
  * 不影响游戏进度

- **重新开始**
  * 重置为第一回合
  * 清除所有已完成内容
  * 重新生成字符分布

### 6. 完成效果

- **单句完成**
  * 简单的成功反馈
  * 自动进入下一回合

- **全诗完成**
  * 弹窗展示完整诗词
  * 显示诗词信息
  * 提供继续选项

  # 诗词连珠游戏视觉设计

## 整体视觉风格

### 1. 配色方案
- **延续现有配色**
  * 主背景：米白色古纸效果
  * 主文字：深褐色
  * 次要文字：浅褐色
  * 装饰元素：半透明褐色

### 2. 背景装饰
- **装饰文字**
  * 与首页保持一致的随机汉字装饰
  * 使用"诗词歌赋韵律风雅"等文字
  * 保持相同的透明度和旋转效果
  * 随机分布在背景中

### 3. 布局层次
- **背景层**
  * 古纸效果背景
  * 装饰文字层
  * 轻微的纹理效果

- **游戏主区域**
  * 略微加深的背景色
  * 柔和的区域边界
  * 突出的视觉重点

### 4. 游戏元素

- **文字圆格**
  * 米色圆形背景
  * 典雅的描边效果
  * 传统书法字体
  * 柔和的立体感

- **连线效果**
  * 简洁的实线
  * 浅褐色
  * 适中的线条粗细
  * 半透明效果

### 5. 界面元素

- **顶部信息栏**
  * 半透明米色背景
  * 典雅的标题字体
  * 柔和的分隔线

- **底部工具栏**
  * 与顶部风格呼应
  * 古风按钮设计
  * 适当的视觉重量

### 6. 状态视觉

- **连线状态**
  * 连线中：浅褐色线条
  * 连线成功：加深色调
  * 连线失败：优雅消失

- **文字状态**
  * 普通状态：正常显示
  * 完成状态：加深字色
  * 错误状态：轻微晃动

### 7. 完成弹窗
- **弹窗背景**
  * 古纸效果
  * 典雅的边框装饰
  * 柔和的阴影

- **诗词展示**
  * 传统书法字体
  * 古典排版格式
  * 适当的留白空间

### 8. 视觉层次
- **重点突出**
  * 游戏主区域视觉重量最大
  * 装饰元素适度淡化
  * 信息区域清晰可辨

- **层次分明**
  * 背景装饰最淡
  * 功能区域适中
  * 游戏区域最醒目